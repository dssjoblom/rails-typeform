<% if @rails_typeform_config.form %>

  <% icon_sz = if browser.device.mobile? then 21 else 24 end %>
  <% circle_sz = if browser.device.mobile? then 48 else 54 end %>
  <% right = if browser.device.mobile? then 18 else 26 end %>
  <% bottom = if browser.device.mobile? then 48 else 56 end %>

  <a class="typeform-share button <%= if @rails_typeform_config.nudge then "animate__animated animate__heartBeat animate__infinite" else '' end %>"
     href="<%= "https://form.typeform.com/to/#{@rails_typeform_config.form.typeform_id}?typeform-medium=embed-snippet&#{@rails_typeform_config.encode_hidden_variables}" %>"
     data-mode="drawer_right"
     style="width:<%= circle_sz %>px;height:<%= circle_sz %>px;position:fixed;box-shadow:0px 2px 12px rgba(0, 0, 0, 0.06), 0px 2px 4px rgba(0, 0, 0, 0.08);right:<%= right %>px;bottom:<%= bottom %>px;border-radius:50%;display:flex;align-items:center;justify-content:center;cursor:pointer;background:#6f5191;overflow:hidden;line-height:0;z-index: 10001;"
     target="_blank">
    <span class="icon">
      <svg width='<%= icon_sz %>' height='<%= icon_sz %>' viewBox='0 0 24 24' fill='none' xmlns='http://www.w3.org/2000/svg' style="margin-top:6px;"> <path d='M21 0H0V9L10.5743 24V16.5H21C22.6567 16.5 24 15.1567 24 13.5V3C24 1.34325 22.6567 0 21 0ZM7.5 9.75C6.672 9.75 6 9.07875 6 8.25C6 7.42125 6.672 6.75 7.5 6.75C8.328 6.75 9 7.42125 9 8.25C9 9.07875 8.328 9.75 7.5 9.75ZM12.75 9.75C11.922 9.75 11.25 9.07875 11.25 8.25C11.25 7.42125 11.922 6.75 12.75 6.75C13.578 6.75 14.25 7.42125 14.25 8.25C14.25 9.07875 13.578 9.75 12.75 9.75ZM18 9.75C17.172 9.75 16.5 9.07875 16.5 8.25C16.5 7.42125 17.172 6.75 18 6.75C18.828 6.75 19.5 7.42125 19.5 8.25C19.5 9.07875 18.828 9.75 18 9.75Z' fill='white' /> </svg>
    </span>
  </a>

  <script nonce="<%= content_security_policy_nonce %>"> (function() { var qs,js,q,s,d=document, gi=d.getElementById, ce=d.createElement, gt=d.getElementsByTagName, id="typef_orm_share", b="https://embed.typeform.com/"; if(!gi.call(d,id)){ js=ce.call(d,"script"); js.id=id; js.src=b+"embed.js"; q=gt.call(d,"script")[0]; q.parentNode.insertBefore(js,q) } })() </script>

<% end %>
